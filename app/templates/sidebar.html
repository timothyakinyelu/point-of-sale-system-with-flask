<div class="sidebar__navbar">
    <span id="close-menu"></span>
    <div class="px-3 position-relative">
        <nav class="navbar">
            <a href="#!" class="brand__sidebar position-relative">RC-POS</a>
        </nav>

        <ul class="accordion sidebar__list--menu mt-3" id="sidebarAccordion">
            {% if current_user.allowed_perms(['view-dashboard']) %}
                <li {% if request.path.split('/')[-1] == '' %} class="active" {% endif %}>
                    <a href="{{ url_for('auth.dashboard') }}">Dashboard</a>
                </li>
            {% endif %}
            <li class="">
                <a data-toggle="collapse" 
                    href="#inventory" 
                    role="button" 
                    aria-expanded="false" 
                    aria-controls="collapseExample"
                >
                    Inventory
                </a>
                <ul class="collapse {% if request.path.split('/')[-2] == 'inventory' %} show {% endif %}" id="inventory" data-parent="#sidebarAccordion">
                    {% if(current_user.allowed_perms(['view-brands'])) %}
                        <li {% if request.path.split('/')[-1] == 'brands' %} class="active" {% endif %}>
                            <a href="{{ url_for('auth.getBrands') }}">Brands</a>
                        </li>
                    {% endif %}
                    {% if(current_user.allowed_perms(['view-categories'])) %}
                        <li {% if request.path.split('/')[-1] == 'categories' %} class="active" {% endif %}>
                            <a href="{{ url_for('auth.getCategories') }}">Categories</a>
                        </li>
                    {% endif %}
                    {% if(current_user.allowed_perms(['view-products'])) %}
                        <li {% if request.path.split('/')[-1] == 'products' %} class="active" {% endif %}>
                            <a href="{{ url_for('auth.getProducts') }}">Products</a>
                        </li>
                    {% endif %}
                    {% if(current_user.allowed_perms(['view-products'])) %}
                        <li {% if request.path.split('/')[-1] == 'suppliers' %} class="active" {% endif %}>
                            <a href="{{ url_for('auth.getSuppliers') }}">Suppliers</a>
                        </li>
                    {% endif %}
                    {% if(current_user.allowed_perms(['view-products'])) %}
                        <li {% if request.path.split('/')[-1] == 'receiving' %} class="active" {% endif %}>
                            <a href="{{ url_for('auth.enterReceivedItems') }}">Receiving</a>
                        </li>
                    {% endif %}
                </ul>
            </li>
            {% if(current_user.allowed_perms(['enter-sales'])) %}
                <li><a href="{{ url_for('auth.addTransaction') }}">New Sale</a></li>
            {% endif %}
            {% if(current_user.allowed_perms(['view-promotions'])) %}
                <li class="">
                    <a data-toggle="collapse" 
                        href="#discount" 
                        role="button" 
                        aria-expanded="false" 
                        aria-controls="collapseExample"
                    >
                        Promotions
                    </a>
                    <ul class="collapse {% if request.path.split('/')[-2] == 'promotions' %} show {% endif %}" id="discount" data-parent="#sidebarAccordion">
                        <li {% if request.path.split('/')[-1] == 'discounts' %} class="active" {% endif %}>
                            <a href="">Discounts</a>
                        </li>
                    </ul>
                </li>
            {% endif %}
            <li class="">
                <a data-toggle="collapse" 
                    href="#reports" 
                    role="button" 
                    aria-expanded="false" 
                    aria-controls="collapseList"
                >
                    Reports
                </a>
                <ul class="collapse {% if request.path.split('/')[-2] == 'reports' %} show {% endif %}" id="reports" data-parent="#sidebarAccordion">
                    {% if(current_user.allowed_perms(['view-reports'])) %}
                        <li {% if request.path.split('/')[-1] == 'sales-report' %} class="active" {% endif %}>
                            <a href="{{ url_for('auth.salesReport') }}">Sales Report</a>
                        </li>
                        <li {% if request.path.split('/')[-1] == 'products-report' %} class="active" {% endif %}>
                            <a href="{{ url_for('auth.productsReport') }}">Products Sold Report</a>
                        </li>
                    {% endif %}
                    {% if(current_user.allowed_perms(['view-low-stock'])) %}
                        <li {% if request.path.split('/')[-1] == 'low-stock' %} class="active" {% endif %}>
                            <a href="{{ url_for('auth.lowStockReport') }}">Low Stock</a>
                        </li>
                    {% endif %}
                    {% if(current_user.allowed_perms(['view-day-report'])) %}
                        <li {% if request.path.split('/')[-1] == 'today-sales' %} class="active" {% endif %}>
                            <a href="{{ url_for('auth.todaysReport') }}">Today Sales</a>
                        </li>
                    {% endif %}
                </ul>
            </li>
            {% if(current_user.allowed_perms(['view-users'])) %}
                <li>
                    <a data-toggle="collapse" 
                        href="#settings" 
                        role="button" 
                        aria-expanded="false" 
                        aria-controls="collapseList3"
                    >
                        Settings
                    </a>
                    <ul class="collapse {% if request.path.split('/')[-2] == 'settings' %} show {% endif %}" id="settings" data-parent="#sidebarAccordion">
                        <li {% if request.path.split('/')[-1] == 'shops' %} class="active" {% endif %}>
                            <a href="{{ url_for('auth.getShops') }}">Shops</a>
                        </li>
                        <li {% if request.path.split('/')[-1] == 'users' %} class="active" {% endif %}>
                            <a href="{{ url_for('auth.getUsers') }}">Users</a>
                        </li>
                        <li {% if request.path.split('/')[-1] == 'permissions' %} class="active" {% endif %}>
                            <a href="{{ url_for('auth.getPermissions') }}">Access Control List</a>
                        </li>
                        <li {% if request.path.split('/')[-1] == 'roles' %} class="active" {% endif %}>
                            <a href="{{ url_for('auth.getRoles') }}">Roles</a>
                        </li>
                        <li>Reset Password</li>
                    </ul>
                </li>
            {% endif %}
        </ul>
    </div>
</div>