{% extends 'base.html' %}
{% block content %}
    {% include "sidebar.html" %}
        <div id="side-content" class="sidebar__content">
            {% include "navbar.html" %}
            {% block inner %}{% endblock inner%}
        </div>
        <button id="toTopBtn" title="Go to top">
            <svg width="30" height="30" viewBox="0 0 52 52" fill="none" xmlns="http://www.w3.org/2000/svg">
                <path d="M46.0877 28.7064C46.7775 29.3745 47.6704 29.7021 48.5633 29.6892C49.4562 29.6762 50.3406 29.3271 51.0135 28.6374L51.0643 28.5857C51.699 27.9047 52.008 27.034 51.9953 26.1676C51.9826 25.3012 51.6483 24.4392 50.9923 23.7754C43.5233 16.1633 35.9272 8.63313 28.3989 1.06848C28.3777 1.03831 28.3566 1.01244 28.3312 0.986583C27.6414 0.314169 26.7401 -0.0134173 25.8471 -0.000486233C24.9542 0.0124448 24.0656 0.365893 23.3927 1.05555L23.2827 1.17193C15.8559 8.71072 8.40802 16.228 0.998189 23.7797C0.346496 24.4435 0.0121861 25.3012 -0.000509227 26.1676C-0.0132045 27.034 0.295715 27.9047 0.934712 28.5857L0.998189 28.6504C1.66681 29.3271 2.54702 29.6762 3.43569 29.6892C4.32436 29.7021 5.2215 29.3745 5.91127 28.7064L25.9149 8.35296L46.0877 28.7064ZM45.2414 51.0211C45.9269 51.6849 46.8198 52.0081 47.7085 51.9952C48.6014 51.9823 49.4858 51.6331 50.1587 50.9435L50.2094 50.8918C50.8442 50.215 51.1531 49.34 51.1447 48.4737C51.132 47.6073 50.7977 46.7409 50.1417 46.0814C42.825 38.6331 35.631 30.9306 28.4031 23.3788C28.382 23.3487 28.3566 23.3185 28.3312 23.2883C27.6414 22.6202 26.7401 22.2926 25.8471 22.3055C24.9542 22.3185 24.0656 22.6719 23.3927 23.3616C16.2199 30.9047 9.07241 38.478 1.90802 46.034L1.85301 46.0857C1.20131 46.7452 0.871236 47.6073 0.85854 48.4737C0.845845 49.34 1.15476 50.2107 1.79376 50.8918L1.85724 50.9564C2.52586 51.6331 3.40607 51.9823 4.29474 51.9952C5.18341 52.0081 6.08055 51.6806 6.77032 51.0124L25.9149 30.6762L45.2414 51.0211Z" fill="white"/>
            </svg>   
        </button>
{% endblock content %}
{% block scripts %}
    {% block inner_scripts %}{% endblock inner_scripts %}
    <script>
        $('document').ready(function(){
            var username = "{{current_user.username}}"
            var firstLetter = username.charAt(0);
            
            document.getElementById("user").innerHTML = firstLetter;
        });
    </script>
    <script>
        function resizeWindow() {
            let contentWidth = $(window).width();

            if (contentWidth > 1024) {
                checkClass();
            } else {
                unCheckClass();
            }

            if (contentWidth < 600) {
                $('.admin-table').addClass('mobile-table');
            } else {
                $('.admin-table').removeClass('mobile-table');
            }
        }
        
        $(document).ready(function () {
            resizeWindow();
        });

        $(window).resize(function() {
            resizeWindow();
        })

        function checkClass() {
            $(".sidebar__navbar").addClass("active");
            $(".sidebar-menu").css("display", "none");
            $(".navbar-brand").css("display", "none");
        }

        function unCheckClass() {
            $(".sidebar__navbar").removeClass("active");
            $(".sidebar-menu").css("display", "flex");
            $(".navbar-brand").css("display", "inline-block");
        }
        

        $(".sidebar-menu").click(function () {
            checkClass();
        });

        $("#close-menu").on('click', function () {
            unCheckClass();
        });
    </script>
    <script>
        //Get the button:
        var scrollButton = document.getElementById("toTopBtn");

        // When the user scrolls down 20px from the top of the document, show the button
        $(window).scroll(function(){
            scrollFunction();
        });
    
        function scrollFunction() {
            if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
                scrollButton.style.display = "block";
            } else {
                scrollButton.style.display = "none";
            }
        }

        // animate scroll to top action
        $(document).ready(function(){
            $("#toTopBtn").click(function() {
                $("html, body").animate({ 
                    scrollTop: 0
                }, "slow");
                return false;
            });
        });
    </script>
    <script src="{{ url_for('static', filename= 'js/general.js') }}"></script>
{{super()}}
{% endblock scripts %}
