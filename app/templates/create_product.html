{% extends 'base.html' %}
{% block content %}
    <div class="container">
        {% for message in get_flashed_messages() %}
            <div class="alert alert-warning">
                <button type="button" class="close" data-dismiss="alert">&times;</button>
                {{ message }}
            </div>
        {% endfor %}
        <form id="create_user" method="POST" action="{{ url_for('auth.addProduct') }}">
            {{ form.csrf_token }}

            <fieldset class="name">
                {{ form.name.label }}
                {{ form.name(placeholder='Apple juice') }}
                {% if form.name.errors %}
                <ul class="errors">
                    {% for error in form.name.errors %}
                    <li>{{ error }}</li>{% endfor %}
                </ul>
                {% endif %}
            </fieldset>
            <fieldset class="">
                {{ form.sku.label }}
                {{ form.sku }}
                {% if form.sku.errors %}
                <ul class="errors">
                    {% for error in form.sku.errors %}
                    <li>{{ error }}</li>{% endfor %}
                </ul>
                {% endif %}
            </fieldset>
            <fieldset class="">
                {{ form.gtin.label }}
                {{ form.gtin }}
            </fieldset>
            <fieldset class="">
                {{ form.brandName.label }}
                {{ form.brandName(onkeyup="searchBrands(event)", id='brandName') }}
                {% if form.brandName.errors %}
                <ul class="errors">
                    {% for error in form.brandName.errors %}
                    <li>{{ error }}</li>{% endfor %}
                </ul>
                {% endif %}
            </fieldset>
            <select id="brands" onchange=selectBrand()></select>
            <fieldset class="">
                {{ form.brand(id='brandID') }}
            </fieldset>
            <fieldset class="">
                {{ form.categories.label }}
                {{ form.categories }}
                {% if form.categories.errors %}
                <ul class="errors">
                    {% for error in form.categories.errors %}
                    <li>{{ error }}</li>{% endfor %}
                </ul>
                {% endif %}
            </fieldset>
            <fieldset class="">
                {{ form.price.label }}
                {{ form.price }}
                {% if form.price.errors %}
                <ul class="errors">
                    {% for error in form.price.errors %}
                    <li>{{ error }}</li>{% endfor %}
                </ul>
                {% endif %}
            </fieldset>
            <fieldset class="">
                {{ form.old_price.label }}
                {{ form.old_price }}
            </fieldset>
            <fieldset class="">
                {{ form.cost_of_purchase.label }}
                {{ form.cost_of_purchase }}
                {% if form.cost_of_purchase.errors %}
                <ul class="errors">
                    {% for error in form.cost_of_purchase.errors %}
                    <li>{{ error }}</li>{% endfor %}
                </ul>
                {% endif %}
            </fieldset>
            <fieldset id="discount" class="discount">
                {{ form.discount.label }}
                {{ form.discount }}
            </fieldset>
            <fieldset class="">
                {{ form.apply_discount.label }}
                {{ form.apply_discount(id='apply', onclick="openDiscount()") }}
            </fieldset>
            <fieldset class="">
                {{ form.stock_qty.label }}
                {{ form.stock_qty }}
                {% if form.stock_qty.errors %}
                <ul class="errors">
                    {% for error in form.stock_qty.errors %}
                    <li>{{ error }}</li>{% endfor %}
                </ul>
                {% endif %}
            </fieldset>
            <fieldset class="">
                {{ form.min_stock_qty.label }}
                {{ form.min_stock_qty }}
                {% if form.min_stock_qty.errors %}
                <ul class="errors">
                    {% for error in form.min_stock_qty.errors %}
                    <li>{{ error }}</li>{% endfor %}
                </ul>
                {% endif %}
            </fieldset>
            <div id="user_form" class="submit-button">
                {{ form.submit }}
            </div>
        </form>
    </div>
{% endblock %}